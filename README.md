# Speech Dataset Generator

A collection of command-line interface (CLI) tools for downloading audio from YouTube playlists, converting audio files to WAV format, and generating a ready-to-use voice synthesis dataset. This repository addresses the community's need for a voice processing pipeline that creates a voice dataset structure based on existing WAV audio data.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Installation](#installation)
- [Usage](#usage)
  - [YouTube Audio Downloader](#youtube-audio-downloader)
  - [YouTube Playlist Downloader](#youtube-playlist-downloader)
  - [Audio Converter to WAV](#audio-converter-to-wav)
  - [Audio-to-Voice Dataset Creator](#audio-to-voice-dataset-creator)
- [Output](#output)
- [License](#license)

## Overview

This repository contains multiple scripts that enable users to:
- Download audio from YouTube videos and playlists.
- Convert downloaded audio files into WAV format.
- Transcribe and split WAV audio files into individual sentences, generating a structured dataset for voice synthesis.

## Features

### YouTube Audio Downloader
- Download audio from individual YouTube video URLs.

### YouTube Playlist Downloader
- Download audio from all videos in a specified YouTube playlist.

### Audio Converter to WAV
- Convert downloaded audio files from MP4 to WAV format.

### Audio-to-Voice Dataset Creator
- Transcribe speech to text using OpenAI's Whisper model.
- Split audio files into sentences based on silent breaks.
- Save each sentence as a separate WAV file and generate a metadata CSV file mapping sentences to audio files.

## Installation

### Prerequisites

Ensure you have Python 3.x installed on your system. You can download it from [python.org](https://www.python.org/downloads/).

### Install Required Packages

Install the required packages using pip:

```bash
pip install pytubefix pydub openai-whisper pandas
```

### FFMPEG Installation

`pydub` requires [FFmpeg](https://ffmpeg.org/) for audio format conversion. Follow the installation instructions on the FFmpeg website for your operating system.

## Usage

### YouTube Audio Downloader

This tool downloads audio from specified YouTube video URLs.

**Script:** `youtube_audio_downloader.py`

**Usage:**

```bash
python youtube_audio_downloader.py <youtube_url> [-o <output_directory>]
```

**Example:**

```bash
python youtube_audio_downloader.py "https://www.youtube.com/watch?v=Rkit4YUvTDs" -o "./youtube-downloads"
```

### YouTube Playlist Downloader

This tool downloads audio from all videos in a specified YouTube playlist.

**Script:** `youtube_playlist_downloader.py`

**Usage:**

```bash
python youtube_playlist_downloader.py <playlist_url> [-o <output_directory>]
```

**Example:**

```bash
python youtube_playlist_downloader.py "https://www.youtube.com/playlist?list=PLafvIliUVicSDTh6TGnlOAp7PBnWJ5zeF" -o "./youtube-mp3-downloads"
```

### Audio Converter to WAV

This tool converts downloaded audio files from MP4 to WAV format.

**Script:** `audio_converter_to_wav.py`

**Usage:**

```bash
python audio_converter_to_wav.py [-i <input_directory>] [-o <output_directory>]
```

**Example:**

```bash
python audio_converter_to_wav.py -i "./youtube-downloads" -o "./wav-audio"
```

### Audio-to-Voice Dataset Creator

This tool processes an input WAV audio file to create a voice dataset in the LJ Speech format.

**Script:** `create_ljspeech.py`

**Usage:**

1. Prepare your audio file: Place your input WAV file in a directory and note its path.
2. Update the `audio_path` variable in the script to point to your input WAV file.
3. Adjust values for `min_silence_len` and `keep_silence` for your personal wave recording.
4. Run the script:

```bash
python create_ljspeech.py -i <input_audio_path> -o <output_directory>
```

**Example:**

```bash
python create_ljspeech.py -i "./audio-file.wav" -o "./speech-dataset"
```

## Output

- **Audio files:** The script will create individual WAV files for each sentence in the audio directory within the output directory.
- **CSV file:** The script will generate a `metadata.csv` file in the output directory, containing the transcribed sentences and IDs of the corresponding audio files.

### Example Output Structure

After running the dataset creator script, the output directory might look like this:

```
output/
├── audio/
│   ├── LJ0001.wav
│   ├── LJ0002.wav
│   ├── LJ0003.wav
│   └── ...
└── metadata.csv
```

The `metadata.csv` file will contain:

```
LJ0001|Hello, world.
LJ0002|This is a test.
LJ0003|How are you?
```


### Key Additions:
- **Overview**: Describes the purpose of the repository as a comprehensive tool for audio downloading and dataset creation.
- **Features**: Expanded to include the audio-to-voice dataset creator functionalities.
- **Usage**: Detailed instructions for using the new dataset creator script, along with example commands.
- **Output**: Clearly describes the structure and content of the output files generated by the dataset creator.


## Acknowledgments

- [Audio-to-Voice-Dataset](https://github.com/thorstenMueller/Audio-to-Voice-Dataset) repo by @thorstenMueller
- [pytubefix](https://github.com/JuanBindez/pytubefix)